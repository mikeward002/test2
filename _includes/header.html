<header class="site-header">
  <div class="navwrap">
    <a class="brand" href="{{ site.baseurl }}/">
      <span class="logo" aria-hidden="true"></span>
      <span class="brandname">QuietPath</span>
    </a>

    <button class="menu-btn" id="menuBtn" aria-expanded="false" aria-controls="mobileMenu">☰ Menu</button>

    <nav class="nav" aria-label="Primary">
      <a href="{{ site.baseurl }}/checklist.html">96‑Hour Checklist</a>
      <a href="{{ site.baseurl }}/obituary-builder.html">AI Obituary Builder</a>
      <a href="{{ site.baseurl }}/funeral-calculator.html">Funeral Cost Calculator</a>
    </nav>
  </div>

  <div id="mobileMenu" class="mobile-menu" aria-hidden="true">
    <a href="{{ site.baseurl }}/checklist.html">96‑Hour Checklist</a>
    <a href="{{ site.baseurl }}/obituary-builder.html">AI Obituary Builder</a>
    <a href="{{ site.baseurl }}/funeral-calculator.html">Funeral Cost Calculator</a>
  </div>
</header>

<script>
// small helper for the mobile menu
(function () {
  const menuBtn = document.getElementById('menuBtn');
  const mobileMenu = document.getElementById('mobileMenu');
  function syncMenu(){
    const isNarrow = window.matchMedia('(max-width: 860px)').matches;
    if (!isNarrow) {
      mobileMenu.style.display = 'none';
      mobileMenu.setAttribute('aria-hidden','true');
      menuBtn.setAttribute('aria-expanded','false');
    }
  }
  menuBtn?.addEventListener('click', () => {
    const open = menuBtn.getAttribute('aria-expanded') === 'true';
    menuBtn.setAttribute('aria-expanded', String(!open));
    mobileMenu.style.display = open ? 'none' : 'block';
    mobileMenu.setAttribute('aria-hidden', open ? 'true' : 'false');
  });
  window.addEventListener('resize', () => { clearTimeout(window._menuT); window._menuT = setTimeout(syncMenu, 150); });
  syncMenu();
})();
</script>
